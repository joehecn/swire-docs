<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>
      Dynamic Routing | Swire docs
    </title>
    <meta name="description" content="The official router for Vue.js.">
    <link rel="stylesheet" href="/swire-docs/_assets/style.6fbaaea0.css">
    <link rel="modulepreload" href="/swire-docs/_assets/framework.c00dda38.js">
    <link rel="modulepreload" href="/swire-docs/_assets/guide_advanced_dynamic-routing.md.c0140288.lean.js">
    <link rel="modulepreload" href="/swire-docs/_assets/app.c05f8932.js">
    <link rel="icon" href="/logo.png">
    <script src="https://unpkg.com/thesemetrics@latest" async=""></script>
    
  </head>
  <body>
    <div id="app"><!--[--><div class="theme"><header class="nav-bar" data-v-6e9501ba><div class="sidebar-button" data-v-6e9501ba><svg class="icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z" class></path></svg></div><a class="nav-bar-title" href="/swire-docs/" aria-label="Swire Docs, back to home" data-v-6e9501ba data-v-4f592d84><!----> Swire Docs</a><div class="flex-grow" data-v-6e9501ba></div><div class="nav" data-v-6e9501ba><nav class="nav-links" data-v-6e9501ba data-v-7e43412a><!--[--><div class="item" data-v-7e43412a><div class="nav-link" data-v-7e43412a data-v-58e79b0c><a class="item" href="/swire-docs/doc/" data-v-58e79b0c>Doc <!----></a></div></div><!--]--><!----><!----></nav></div><!--[--><!--[--><!----><!--]--><!--]--></header><aside class="sidebar" data-v-6d3fedc6><nav class="nav-links nav" data-v-6d3fedc6 data-v-7e43412a><!--[--><div class="item" data-v-7e43412a><div class="nav-link" data-v-7e43412a data-v-58e79b0c><a class="item" href="/swire-docs/doc/" data-v-58e79b0c>Doc <!----></a></div></div><!--]--><!----><!----></nav><!--[--><!--[--><!--]--><!--]--><ul class="sidebar-links" data-v-6d3fedc6><!--[--><li class="sidebar-link" data-v-6d3fedc6 data-v-6d3fedc6><a class="sidebar-link-item" href="/swire-docs/introduction.html" data-v-6d3fedc6>Introduction</a><!----></li><!--]--></ul><!--[--><!--[--><!--]--><!--]--></aside><!-- TODO: make this button accessible --><div class="sidebar-mask"></div><main class="page" data-v-aa5adba8><div class="container" data-v-aa5adba8><!--[--><!--[--><!----><!--]--><!--[--><!--]--><!--]--><div class="content" data-v-aa5adba8><div data-v-aa5adba8><h1 id="dynamic-routing"><a class="header-anchor" href="#dynamic-routing" aria-hidden="true">#</a> Dynamic Routing</h1><p>Adding routes to your router is usually done via the <a href="/api/#routes"><code>routes</code> option</a> but in some situations, you might want to add or remove routes while the application is already running. Application with extensible interfaces like <a href="https://cli.vuejs.org/dev-guide/ui-api.html" target="_blank" rel="noopener noreferrer">Vue CLI UI</a> can use this to make the application grow.</p><h2 id="adding-routes"><a class="header-anchor" href="#adding-routes" aria-hidden="true">#</a> Adding Routes</h2><p>Dynamic routing is achieved mainly via two functions: <code>router.addRoute()</code> and <code>router.removeRoute()</code>. They <strong>only</strong> register a new route, meaning that if the newly added route matches the current location, it would require you to <strong>manually navigate</strong> with <code>router.push()</code> or <code>router.replace()</code> to display that new route. Let&#39;s take a look at an example:</p><p>Imagine having the following router with one single route:</p><div class="language-js"><pre><code><span class="token keyword">const</span> router <span class="token operator">=</span> <span class="token function">createRouter</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  history<span class="token operator">:</span> <span class="token function">createWebHistory</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  routes<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span> path<span class="token operator">:</span> <span class="token string">&#39;/:articleName&#39;</span><span class="token punctuation">,</span> component<span class="token operator">:</span> Article <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><p>Going to any page, <code>/about</code>, <code>/store</code>, or <code>/3-tricks-to-improve-your-routing-code</code> ends up rendering the <code>Article</code> component. If we are on <code>/about</code> and we are a new route:</p><div class="language-js"><pre><code>router<span class="token punctuation">.</span><span class="token function">addRoute</span><span class="token punctuation">(</span><span class="token punctuation">{</span> path<span class="token operator">:</span> <span class="token string">&#39;/about&#39;</span><span class="token punctuation">,</span> component<span class="token operator">:</span> About <span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><p>The page will still show the <code>Article</code> component, we need to manually call <code>router.replace()</code> to change the current location and overwrite where we were (instead of pushing a new entry, ending up in the same location twice in our history):</p><div class="language-js"><pre><code>router<span class="token punctuation">.</span><span class="token function">addRoute</span><span class="token punctuation">(</span><span class="token punctuation">{</span> path<span class="token operator">:</span> <span class="token string">&#39;/about&#39;</span><span class="token punctuation">,</span> component<span class="token operator">:</span> About <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token comment">// we could also use this.$route or route = useRoute() (inside a setup)</span>
router<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span>router<span class="token punctuation">.</span>currentRoute<span class="token punctuation">.</span>value<span class="token punctuation">.</span>fullPath<span class="token punctuation">)</span>
</code></pre></div><p>Remember you can <code>await router.replace()</code> if you need to wait for the new route to be displayed.</p><h2 id="adding-routes-inside-navigation-guards"><a class="header-anchor" href="#adding-routes-inside-navigation-guards" aria-hidden="true">#</a> Adding Routes inside navigation guards</h2><p>If you decide to add or remove routes inside of a navigation guard, you should not call <code>router.replace()</code> but trigger a redirection by returning the new location:</p><div class="language-js"><pre><code>router<span class="token punctuation">.</span><span class="token function">beforeEach</span><span class="token punctuation">(</span><span class="token parameter">to</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token function">hasNecessaryRoute</span><span class="token punctuation">(</span>to<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    router<span class="token punctuation">.</span><span class="token function">addRoute</span><span class="token punctuation">(</span><span class="token function">generateRoute</span><span class="token punctuation">(</span>to<span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token comment">// trigger a redirection</span>
    <span class="token keyword">return</span> to<span class="token punctuation">.</span>fullPath
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><p>The example above assumes two things: first, the newly added route record will match the <code>to</code> location, effectively resulting in a different location from the one we were trying to access. Second, <code>hasNecessaryRoute()</code> returns <code>false</code> after adding the new route to avoid an infinite redirection.</p><p>Because we are redirecting, we are replacing the ongoing navigation, effectively behaving like the example shown before. In real world scenarios, adding is more likely to happen outside of navigation guards, e.g. when a view component mounts, it register new routes.</p><h2 id="removing-routes"><a class="header-anchor" href="#removing-routes" aria-hidden="true">#</a> Removing routes</h2><p>There are few different ways to remove existing routes:</p><ul><li>By adding a route with a conflicting name. If you add a route that has the same name as an existing route, it will remove the route first and then add the route:<div class="language-js"><pre><code>router<span class="token punctuation">.</span><span class="token function">addRoute</span><span class="token punctuation">(</span><span class="token punctuation">{</span> path<span class="token operator">:</span> <span class="token string">&#39;/about&#39;</span><span class="token punctuation">,</span> name<span class="token operator">:</span> <span class="token string">&#39;about&#39;</span><span class="token punctuation">,</span> component<span class="token operator">:</span> About <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token comment">// this will remove the previously added route because they have the same name and names are unique</span>
router<span class="token punctuation">.</span><span class="token function">addRoute</span><span class="token punctuation">(</span><span class="token punctuation">{</span> path<span class="token operator">:</span> <span class="token string">&#39;/other&#39;</span><span class="token punctuation">,</span> name<span class="token operator">:</span> <span class="token string">&#39;about&#39;</span><span class="token punctuation">,</span> component<span class="token operator">:</span> Other <span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div></li><li>By calling the callback returned by <code>router.addRoute()</code>:<div class="language-js"><pre><code><span class="token keyword">const</span> removeRoute <span class="token operator">=</span> router<span class="token punctuation">.</span><span class="token function">addRoute</span><span class="token punctuation">(</span>routeRecord<span class="token punctuation">)</span>
<span class="token function">removeRoute</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// removes the route if it exists</span>
</code></pre></div>This is useful when the routes do not have a name</li><li>By using <code>router.removeRoute()</code> to remove a route by its name:<div class="language-js"><pre><code>router<span class="token punctuation">.</span><span class="token function">addRoute</span><span class="token punctuation">(</span><span class="token punctuation">{</span> path<span class="token operator">:</span> <span class="token string">&#39;/about&#39;</span><span class="token punctuation">,</span> name<span class="token operator">:</span> <span class="token string">&#39;about&#39;</span><span class="token punctuation">,</span> component<span class="token operator">:</span> About <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token comment">// remove the route</span>
router<span class="token punctuation">.</span><span class="token function">removeRoute</span><span class="token punctuation">(</span><span class="token string">&#39;about&#39;</span><span class="token punctuation">)</span>
</code></pre></div>Note you can use <code>Symbol</code>s for names in routes if you wish to use this function but want to avoid conflicts in names.</li></ul><p>Whenever a route is removed, <strong>all of its aliases and children</strong> are removed with it.</p><h2 id="adding-nested-routes"><a class="header-anchor" href="#adding-nested-routes" aria-hidden="true">#</a> Adding nested routes</h2><p>To add nested routes to an existing route, you can pass the <em>name</em> of the route as its first parameter to <code>router.addRoute()</code>, this will effectively add the route as if it was added through <code>children</code>:</p><div class="language-js"><pre><code>router<span class="token punctuation">.</span><span class="token function">addRoute</span><span class="token punctuation">(</span><span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token string">&#39;admin&#39;</span><span class="token punctuation">,</span> path<span class="token operator">:</span> <span class="token string">&#39;/admin&#39;</span><span class="token punctuation">,</span> component<span class="token operator">:</span> Admin <span class="token punctuation">}</span><span class="token punctuation">)</span>
router<span class="token punctuation">.</span><span class="token function">addRoute</span><span class="token punctuation">(</span><span class="token string">&#39;admin&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> path<span class="token operator">:</span> <span class="token string">&#39;settings&#39;</span><span class="token punctuation">,</span> component<span class="token operator">:</span> AdminSettings <span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><p>This is equivalent to:</p><div class="language-js"><pre><code>router<span class="token punctuation">.</span><span class="token function">addRoute</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token string">&#39;admin&#39;</span><span class="token punctuation">,</span>
  path<span class="token operator">:</span> <span class="token string">&#39;/admin&#39;</span><span class="token punctuation">,</span>
  component<span class="token operator">:</span> Admin<span class="token punctuation">,</span>
  children<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span> path<span class="token operator">:</span> <span class="token string">&#39;settings&#39;</span><span class="token punctuation">,</span> component<span class="token operator">:</span> AdminSettings <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><h2 id="looking-at-existing-routes"><a class="header-anchor" href="#looking-at-existing-routes" aria-hidden="true">#</a> Looking at existing routes</h2><p>Vue Router gives you two functions to look at existing routes:</p><ul><li><a href="/api/#hasroute"><code>router.hasRoute()</code></a>: check if a route exists</li><li><a href="/api/#getroutes"><code>router.getRoutes()</code></a>: get an array with all the route records.</li></ul></div></div><footer class="page-footer" data-v-aa5adba8 data-v-ae772eca><div class="edit" data-v-ae772eca><div class="edit-link" data-v-ae772eca data-v-fff8e848><!----></div></div><div class="updated" data-v-ae772eca><!----></div></footer><!----><!--[--><!--[--><!--]--><!--[--><!----><!--]--><!--]--></div></main></div><!----><!--]--></div>
    <script>__VP_HASH_MAP__ = JSON.parse("{\"index\":\"md\",\"installation\":\"md\",\"introduction\":\"md\",\"api_index\":\"md\",\"doc_index\":\"md\",\"guide_index\":\"md\",\"guide_advanced_composition-api\":\"md\",\"guide_advanced_data-fetching\":\"md\",\"guide_advanced_dynamic-routing\":\"md\",\"guide_advanced_extending-router-link\":\"md\",\"guide_advanced_lazy-loading\":\"md\",\"guide_advanced_meta\":\"md\",\"guide_advanced_navigation-failures\":\"md\",\"guide_advanced_navigation-guards\":\"md\",\"guide_advanced_scroll-behavior\":\"md\",\"guide_advanced_transitions\":\"md\",\"guide_essentials_dynamic-matching\":\"md\",\"guide_essentials_history-mode\":\"md\",\"guide_essentials_named-routes\":\"md\",\"guide_essentials_named-views\":\"md\",\"guide_essentials_navigation\":\"md\",\"guide_essentials_nested-routes\":\"md\",\"guide_essentials_passing-props\":\"md\",\"guide_essentials_redirect-and-alias\":\"md\",\"guide_essentials_route-matching-syntax\":\"md\",\"guide_migration_index\":\"md\",\"index.md\":\"74494b3f\",\"installation.md\":\"029eddfa\",\"introduction.md\":\"003fb97a\",\"api_index.md\":\"976ab775\",\"doc_index.md\":\"6b705f89\",\"guide_index.md\":\"e549fb47\",\"guide_advanced_composition-api.md\":\"b3d91691\",\"guide_advanced_data-fetching.md\":\"0229b354\",\"guide_advanced_dynamic-routing.md\":\"c0140288\",\"guide_advanced_extending-router-link.md\":\"79077f65\",\"guide_advanced_lazy-loading.md\":\"ff6943bd\",\"guide_advanced_meta.md\":\"7ec03f43\",\"guide_advanced_navigation-failures.md\":\"8851c6b2\",\"guide_advanced_navigation-guards.md\":\"4ba95198\",\"guide_advanced_scroll-behavior.md\":\"a642ecd5\",\"guide_advanced_transitions.md\":\"71f8513f\",\"guide_essentials_dynamic-matching.md\":\"ff8f8634\",\"guide_essentials_history-mode.md\":\"56782ce8\",\"guide_essentials_named-routes.md\":\"3ddc160f\",\"guide_essentials_named-views.md\":\"3a8d6b0b\",\"guide_essentials_navigation.md\":\"8610aea5\",\"guide_essentials_nested-routes.md\":\"0626742d\",\"guide_essentials_passing-props.md\":\"04ecaec9\",\"guide_essentials_redirect-and-alias.md\":\"ba9eb01e\",\"guide_essentials_route-matching-syntax.md\":\"ab3fed7b\",\"guide_migration_index.md\":\"7802c2b0\"}")</script>
    <script type="module" async src="/swire-docs/_assets/app.c05f8932.js"></script>
  </body>
</html>